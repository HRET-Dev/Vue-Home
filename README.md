# Vue é¡¹ç›®è‡ªåŠ¨éƒ¨ç½²åˆ°æœåŠ¡å™¨ï¼ˆCaddyï¼‰

æœ¬é¡¹ç›®ä½¿ç”¨ **GitHub Actions + pnpm** è‡ªåŠ¨åŒ–æž„å»ºå¹¶éƒ¨ç½²åˆ°æŒ‡å®šæœåŠ¡å™¨ï¼Œé€šè¿‡ **Caddy** æä¾›é™æ€æ–‡ä»¶æœåŠ¡ã€‚

---

## ðŸ“¦ éƒ¨ç½²æµç¨‹æ¦‚è¿°

1. **ä»£ç æŽ¨é€åˆ° main åˆ†æ”¯**ï¼ˆæˆ–æ‰‹åŠ¨è§¦å‘ï¼‰
2. **GitHub Actions** è‡ªåŠ¨æ‰§è¡Œï¼š
   - æ‹‰å–ä»£ç 
   - å®‰è£…ä¾èµ–ï¼ˆpnpmï¼‰
   - æž„å»ºé¡¹ç›®ï¼ˆç”Ÿæˆ dist/ï¼‰
   - é€šè¿‡ SSHï¼ˆè´¦å·+å¯†ç ï¼‰å°† dist ä¸Šä¼ åˆ°æœåŠ¡å™¨æŒ‡å®šç›®å½•
3. Caddy è‡ªåŠ¨æä¾›æœ€æ–°é™æ€æ–‡ä»¶

---

## ðŸ”§ çŽ¯å¢ƒè¦æ±‚

### æœåŠ¡å™¨
- å·²å®‰è£… **Caddy**ï¼Œä¸”é…ç½® **ç™»å½•ç”¨æˆ·** æŒ‡å‘ **éƒ¨ç½²ç›®å½•** ä¾‹å¦‚ï¼š/opt/project/vue-home/dist
- éƒ¨ç½²ç”¨æˆ·å¯¹ **éƒ¨ç½²ç›®å½•** æœ‰å†™æƒé™
- å·²å®‰è£… `rsync`ï¼ˆæŽ¨èï¼‰ï¼Œå¦åˆ™ä¼šèµ° `scp` å…œåº•
- å¯é€šè¿‡ SSH è®¿é—®ï¼ˆéž 22 ç«¯å£éœ€åœ¨ Secrets ä¸­é…ç½®ï¼‰

### æœ¬åœ°/CI
- Node.js ç‰ˆæœ¬ï¼š**22.12.0**
- pnpmï¼š**9.x**
- ä»“åº“æ ¹ç›®å½•å­˜åœ¨ `pnpm-lock.yaml`

---

## ðŸ”‘ é…ç½® GitHub Secrets

åœ¨ **Settings â†’ Secrets and variables â†’ Actions** ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼ˆæŽ¨èä½¿ç”¨ Repository Secretsè¿›è¡Œé…ç½®ï¼‰ï¼š

| Secret åç§°             | è¯´æ˜Ž |
|--------------------------|------|
| `DEPLOY_SERVER_HOST`     | æœåŠ¡å™¨åŸŸåæˆ– IP |
| `DEPLOY_SERVER_PORT`     | SSH ç«¯å£ï¼ˆé»˜è®¤ 22ï¼Œå¯ç•™ç©ºï¼‰ |
| `DEPLOY_SERVER_USER`     | SSH ç”¨æˆ·å |
| `DEPLOY_SERVER_PASSWORD` | SSH å¯†ç  |
| `DEPLOY_SERVER_PATH`     | éƒ¨ç½²ç›®å½•ï¼ˆæœ¬é¡¹ç›®ä¸º `/opt/project/vue-home/dist`ï¼‰ |

> âš ï¸ å¦‚æžœä½¿ç”¨ Environment Secretsï¼Œéœ€è¦åœ¨ workflow çš„ job ä¸‹åŠ ï¼š
> ```yaml
> environment: deploy
> ```
